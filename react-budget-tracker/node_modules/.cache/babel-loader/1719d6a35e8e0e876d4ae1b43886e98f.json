{"ast":null,"code":"import _objectSpread from\"/Users/lanefoxwood/Desktop/freeCodeCamp/FrontEndDevelopmentLibraries2022/react-budget-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/lanefoxwood/Desktop/freeCodeCamp/FrontEndDevelopmentLibraries2022/react-budget-tracker/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/lanefoxwood/Desktop/freeCodeCamp/FrontEndDevelopmentLibraries2022/react-budget-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from\"react\";import{v4 as uuidv4}from\"uuid\";import useLocalStorage from\"../hooks/useLocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";var BudgetsContext=/*#__PURE__*/React.createContext();export function useBudgets(){return useContext(BudgetsContext);}export var UNCATEGORIZED_BUDGET_ID=\"Uncategorized\";export var BudgetsProvider=function BudgetsProvider(_ref){var children=_ref.children;var _useLocalStorage=useLocalStorage(\"budgets\",[]),_useLocalStorage2=_slicedToArray(_useLocalStorage,2),budgets=_useLocalStorage2[0],setBudgets=_useLocalStorage2[1];var _useLocalStorage3=useLocalStorage(\"expenses\",[]),_useLocalStorage4=_slicedToArray(_useLocalStorage3,2),expenses=_useLocalStorage4[0],setExpenses=_useLocalStorage4[1];function getBudgetExpenses(budgetId){return expenses.filter(function(expense){return expense.budgetId===budgetId;});}function addExpense(_ref2){var description=_ref2.description,amount=_ref2.amount,budgetId=_ref2.budgetId;setExpenses(function(prevExpenses){return[].concat(_toConsumableArray(prevExpenses),[{id:uuidv4(),description:description,amount:amount,budgetId:budgetId}]);});}function addBudget(_ref3){var name=_ref3.name,max=_ref3.max;setBudgets(function(prevBudgets){if(prevBudgets.find(function(budget){return budget.name===name;})){return prevBudgets;}return[].concat(_toConsumableArray(prevBudgets),[{id:uuidv4(),name:name,max:max}]);});}function deleteBudget(_ref4){var id=_ref4.id;setExpenses(function(prevExpenses){return prevExpenses.map(function(expense){if(expense.budgetId!==id)return expense;return _objectSpread(_objectSpread({},expense),{},{budgetId:UNCATEGORIZED_BUDGET_ID});});});setBudgets(function(prevBudgets){return prevBudgets.filter(function(budget){return budget.id!==id;});});}function deleteExpense(_ref5){var id=_ref5.id;setExpenses(function(prevExpenses){return prevExpenses.filter(function(expense){return expense.id!==id;});});}return/*#__PURE__*/_jsx(BudgetsContext.Provider,{value:{budgets:budgets,expenses:expenses,getBudgetExpenses:getBudgetExpenses,addExpense:addExpense,addBudget:addBudget,deleteBudget:deleteBudget,deleteExpense:deleteExpense},children:children});};","map":{"version":3,"names":["React","useContext","useState","v4","uuidv4","useLocalStorage","BudgetsContext","createContext","useBudgets","UNCATEGORIZED_BUDGET_ID","BudgetsProvider","children","budgets","setBudgets","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","description","amount","prevExpenses","id","addBudget","name","max","prevBudgets","find","budget","deleteBudget","map","deleteExpense"],"sources":["/Users/lanefoxwood/Desktop/freeCodeCamp/FrontEndDevelopmentLibraries2022/react-budget-tracker/src/contexts/BudgetsContext.js"],"sourcesContent":["import React, { useContext, useState } from \"react\"\nimport {v4 as uuidv4} from \"uuid\"\nimport useLocalStorage from \"../hooks/useLocalStorage\"\n\nconst BudgetsContext = React.createContext()\n\n\nexport function useBudgets(){\n return useContext(BudgetsContext)\n}\n\nexport const UNCATEGORIZED_BUDGET_ID = \"Uncategorized\"\n\nexport const BudgetsProvider = ({ children }) => {\n    const [budgets, setBudgets] = useLocalStorage(\"budgets\",[])\n    const [expenses, setExpenses] = useLocalStorage(\"expenses\",[])\n    \n    function getBudgetExpenses(budgetId) {\n        return expenses.filter(expense => expense.budgetId === budgetId)\n    }\n    function addExpense({description, amount, budgetId}) {\n        setExpenses(prevExpenses => {\n            return [...prevExpenses, { id: uuidv4(), description, amount,  budgetId}]\n        })\n    }\n    function addBudget( {name, max}) {\n        setBudgets(prevBudgets => {\n            if(prevBudgets.find(budget => budget.name === name)){\n                return prevBudgets\n            }\n            return [...prevBudgets, { id: uuidv4(), name, max}]\n        })\n    }\n    function deleteBudget({ id }) {\n        setExpenses(prevExpenses => {\n            return prevExpenses.map(expense => {\n                if(expense.budgetId !== id) return expense\n                return {...expense, budgetId: UNCATEGORIZED_BUDGET_ID}\n            })\n        })\n        setBudgets(prevBudgets => {\n            return prevBudgets.filter(budget => budget.id !== id)\n        })\n    }\n    function deleteExpense({ id }) {\n        setExpenses(prevExpenses => {\n            return prevExpenses.filter(expense => expense.id !== id)\n        })\n    }\n    \n    \n    return <BudgetsContext.Provider value={{\n        budgets,\n        expenses,\n        getBudgetExpenses,\n        addExpense,\n        addBudget,\n        deleteBudget,\n        deleteExpense\n    }}>{children}</BudgetsContext.Provider>\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}